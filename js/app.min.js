(()=>{"use strict";const e={};let t=(e,t=500,s=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!s,!s&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!s&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))},s=(e,t=500,s=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,s&&e.style.removeProperty("height");let a=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=a+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}},a=(e,a=500)=>e.hidden?s(e,a):t(e,a);let l={getErrors(e){let t=0,s=e.querySelectorAll("*[data-required]");return s.length&&s.forEach((e=>{null===e.offsetParent&&"SELECT"!==e.tagName||e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;const s=e.hasAttribute("data-no-required-empty");if("email"===e.dataset.required)e.value=e.value.replace(" ",""),(s&&""!=e.value||!s)&&this.emailTest(e)?(this.addError(e),t++):this.removeError(e);else if("checkbox"!==e.type||e.checked)if(e.classList.contains("checkbox")&&e.querySelector('[type="radio"]')){const s=e.querySelectorAll('[type="radio"]');let a=0;for(const e of s)if(e.checked){a=1;break}a||(this.addError(e),t++)}else"tel"===e.dataset.required?(s&&""!=e.value||!s)&&this.telTest(e)?(this.addError(e),t++):this.removeError(e):"password"===e.dataset.required?this.passwordTest(e)?(this.addError(e),t++):this.removeError(e):"month"===e.dataset.required?(s&&""!=e.value||!s)&&this.monthTest(e)?(this.addError(e),t++):this.removeError(e):(s&&""!=e.value||!s)&&"card-num"===e.dataset.required?this.cardNumTest(e)?(this.addError(e),t++):this.removeError(e):e.value.trim()?this.removeError(e):(this.addError(e),t++);else this.addError(e),t++;return t},addError(e){if(e.classList.add("_form-error"),e.closest(".form__input")){e.closest(".form__input").classList.add("_form-error");let t=e.closest(".form__input").querySelector(".form__error");t&&e.closest(".form__input").removeChild(t),errorText&&e.closest(".form__input").insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)}},removeError(e){e.classList.remove("_form-error"),e.closest(".form__input")&&(e.closest(".form__input").classList.remove("_form-error"),e.closest(".form__input").querySelector(".form__error")&&e.closest(".form__input").removeChild(e.closest(".form__input").querySelector(".form__error")))},formClean(t){t.reset(),setTimeout((()=>{let s=t.querySelectorAll("input,textarea");for(let e=0;e<s.length;e++){const t=s[e];t.parentElement.classList.remove("_form-focus"),t.classList.remove("_form-focus"),l.removeError(t)}let a=t.querySelectorAll(".checkbox__input");if(a.length>0)for(let e=0;e<a.length;e++){a[e].checked=!1}if(e.select){let s=t.querySelectorAll(".select");if(s.length)for(let t=0;t<s.length;t++){const a=s[t].querySelector("select");e.select.selectBuild(a)}}}),0)},emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value),telTest:e=>11!=e.value.replace(/\s+/g,"").split("").filter((e=>!isNaN(Number(e)))).join("").length,passwordTest:e=>e.value.length<6,monthTest:e=>parseInt(e.value.match(/\d+/))!=e.value||e.value<1||e.value>12,cardNumTest:e=>16!=e.value.replace(/[^\d]/g,"").length};let i=!1;setTimeout((()=>{if(i){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);let n={"2023/2024":{championships:{"Регулярный чемпионат":{players:[{name:"Гамалей",position:"н",goals:21,assists:18,games:12},{name:"Лосев",position:"н",goals:14,assists:15,games:14},{name:"Сорокин",position:"н",goals:21,assists:14,games:14},{name:"Бетькенёв",position:"н",goals:25,assists:9,games:13},{name:"Лёвкин",position:"н",goals:10,assists:19,games:14},{name:"Дубовенко",position:"н",goals:13,assists:10,games:12},{name:"Тюкин",position:"з",goals:2,assists:9,games:14},{name:"Коновалов",position:"н",goals:5,assists:4,games:14},{name:"Куличков",position:"н",goals:7,assists:7,games:14},{name:"Брусницин",position:"н",goals:5,assists:4,games:12},{name:"Аношин",position:"з",goals:1,assists:6,games:13},{name:"Зыбин",position:"з",goals:0,assists:4,games:13},{name:"Крепостин",position:"з",goals:5,assists:10,games:14}],data:{info:{index:0}}},"Отбор на золотую шайбу":{players:[{name:"Гамалей",position:"н",goals:2,assists:2,games:3},{name:"Лосев",position:"н",goals:3,assists:0,games:3},{name:"Сорокин",position:"н",goals:0,assists:4,games:3},{name:"Бетькенёв",position:"н",goals:2,assists:0,games:3},{name:"Лёвкин",position:"н",goals:2,assists:1,games:3},{name:"Дубовенко",position:"н",goals:0,assists:0,games:3},{name:"Тюкин",position:"з",goals:0,assists:1,games:2},{name:"Коновалов",position:"н",goals:1,assists:0,games:3},{name:"Куличков",position:"н",goals:0,assists:1,games:3},{name:"Брусницин",position:"н",goals:0,assists:0,games:3},{name:"Аношин",position:"з",goals:0,assists:0,games:3},{name:"Зыбин",position:"з",goals:0,assists:1,games:3},{name:"Крепостин",position:"з",goals:3,assists:0,games:3}],data:{info:{index:1}}}},data:{info:{index:0}}}},c={position:[["points"],["goals"],["games","<"]],goals:[["assists"],["games","<"]],assists:[["goals"],["games","<"]],points:[["goals"],["games","<"]],"game-points":[["goals"]],"game-goals":[["assists"]],"game-assists":[["goals"]]},o={rating:{abbreviation:"#"},name:{name:"Игрок",abbreviation:"Игрок",description:"Фамилия игрока"},position:{name:"Позиция",abbreviation:"А",description:"Позиция игрока: <nobr>н - нападающий</nobr>, <nobr>з - защитник</nobr>"},goals:{name:"Голы",abbreviation:"Г",description:"Количество голов игрока"},assists:{name:"Голевые передачи",abbreviation:"П",description:"Количество голевых передач игрока"},points:{name:"Очки",abbreviation:"О",description:"Количество очков игрока"},games:{name:"Игры",abbreviation:"И",description:"Количество игр"},"game-points":{name:"Очков за игру в среднем",abbreviation:"О/И",description:"Среднее количество очков за 1 игру"},"game-goals":{name:"Голов за игру в среднем",abbreviation:"Г/И",description:"Среднее количество голов за 1 игру"},"game-assists":{name:"Голевых передач за игру в среднем",abbreviation:"П/И",description:"Среднее количество голевых передач за 1 игру"}};const r=document.querySelector(".content__table"),d=["rating","name","position","games","goals","assists","points","game-points","game-goals","game-assists"];let m,h="",u=document.documentElement.clientWidth/+getComputedStyle(document.documentElement).fontSize.slice(0,2)*16;function p(e){return e/16+"rem"}function g(){const e=document.documentElement.clientWidth/+getComputedStyle(document.documentElement).fontSize.slice(0,2)*16,t=[992,600,480,320,240];if(e>=t[0]&&u<t[0]||e>=t[1]&&u<t[1]||e>=t[2]&&u<t[2]||e>=t[3]&&u<t[3]||e>=t[4]&&u<t[4]||e<t[0]&&u>=t[0]||e<t[1]&&u>=t[1]||e<t[2]&&u>=t[2]||e<t[3]&&u>=t[3]||e<t[4]&&u>=t[4]||u==e){e>=600?r.setAttribute("data-stat-names","rating, name, position, games, goals, assists, points, game-points, game-goals, game-assists"):e>=480?r.setAttribute("data-stat-names","rating, name, position, games, goals, assists, points"):e>=320?r.setAttribute("data-stat-names","rating, name, games, goals, assists, points"):e>=240?r.setAttribute("data-stat-names","rating, name, goals, assists, points"):r.setAttribute("data-stat-names","name, goals, assists, points"),h=r.getAttribute("data-stat-names")?r.getAttribute("data-stat-names").replaceAll(" ","").split(","):d,A(),$(),function(){const e=document.querySelector(".stats-description");e.innerHTML="";let t=!0;for(const s of h){const a=o[s];if(a&&a.description){t=!1;const s=a.description,l=a.abbreviation,i=document.createElement("div");i.classList.add("stats-description__item","item-stats-description");const n=document.createElement("div");n.classList.add("item-stats-description__abbreviation"),n.innerHTML=l,i.append(n);const c=document.createElement("div");c.classList.add("item-stats-description__dash"),c.innerHTML="-",i.append(c);const o=document.createElement("div");o.classList.add("item-stats-description__value"),o.innerHTML=s,i.append(o),e.append(i)}}t?e.classList.add("_hidden"):e.classList.remove("_hidden")}();const t=r.querySelectorAll(".td");for(const e of t)e.classList.add("_td-hidden");let s="";for(const t of h){switch(t){case"rating":s+=e>=480?`${p(50)} `:`${p(35)} `;break;case"name":s+=e>=992?`minmax(${p(150)}, 1fr) `:e>=600?`minmax(${p(130)}, 1fr) `:`minmax(${p(100)}, 1fr) `;break;case"position":s+=e>=480?`${p(50)} `:`${p(40)} `;break;default:s+=e>=480?`minmax(${p(50)}, ${p(90)}) `:`minmax(${p(40)}, ${p(60)}) `}const a=document.querySelectorAll(`.table-${t}`);for(const e of a)e.classList.remove("_td-hidden")}r.style.gridTemplateColumns=s;const a=y.data["sort-settings"];if(a&&a["stat-name"]&&-1==h.indexOf(a["stat-name"])){q(),delete y.data["sort-settings"],E(C),T(C);const e=document.querySelector("._icon-sorted"),t=document.querySelector(`.th-${C} button`);e&&e.classList.remove("_icon-sorted","_increase"),t.classList.add("_icon-sorted","_increase"),$()}}u=e}function S(e,t=1){const s=Number("1"+"0".repeat(t));return Math.round(e*s)/s}function f(e){const t=e.assists,s=e.goals,a=e.games,l=s+t;e.points=l,e["game-points"]=S(l/a,2),e["game-goals"]=S(s/a,2),e["game-assists"]=S(t/a,2)}addEventListener("resize",g);let b=function(){const e="За весь сезон",t="За все сезоны",s={},a=[];for(const t in n){const l=[],i={},c=n[t].championships;a.push([n[t].data.info.index,t,[]]);for(const e in c){const t=c[e],a=t.players;l.push([t.data.info.index,e]);for(const e in a){const t=a[e];f(t);const l=t.name;l in i||(i[l]={}),l in s||(s[l]={});for(const e in t)e in i[l]?"string"!=typeof t[e]&&(i[l][e]+=t[e]):i[l][e]=t[e],e in s[l]?"string"!=typeof t[e]&&(s[l][e]+=t[e]):s[l][e]=t[e]}}for(const e in i){f(i[e])}c["За весь сезон"]={players:[],data:{info:{index:"last"}}};const o=c["За весь сезон"].players;for(const e in i)o.push(i[e]);l.push([c["За весь сезон"].data.info.index,e]),l.sort((function(e,t){return e=e[0],"first"==(t=t[0])?1:"first"==e||"last"==t?-1:"last"==e?1:e-t})),a[a.length-1][2]=l}n["За все сезоны"]={championships:{0:{players:[],data:{}}},data:{info:{index:"last","show-championships":!1}}};for(const e in s){f(s[e])}const l=n["За все сезоны"].championships[0].players;for(const e in s)l[l.length]=s[e];return a.push([n["За все сезоны"].data.info.index,t,[[0,"0"]]]),a.sort((function(e,t){return e=e[0],"first"==(t=t[0])?1:"first"==e||"last"==t?-1:"last"==e?1:e-t})),a}(),v=n[b[0][1]],y=v.championships[b[0][2][0][1]],_=y.players;const C="points";document.addEventListener("selectCallback",(function(e){const t=e.detail.select,s=t.value;if("championship-years-select"==t.id){const e=document.querySelector(`[data-years="${s}"]`).closest(".select"),t=document.querySelector("._select-not-hidden");t&&(t.classList.remove("_select-not-hidden"),t.classList.add("_select-hidden")),!1!==n[s].data.info["show-championships"]&&(e.classList.add("_select-not-hidden"),e.classList.remove("_select-hidden")),v=n[s],y=[];for(let e=0;e<b.length;e++)b[e][1]==s&&(y=v.championships[b[e][2][0][1]])}else t.classList.contains("championship-names-select")&&(y=v.championships[s]);_=y.players,w()})),g();const L=document.querySelector("#championship-years-select");function E(e){y.data["sort-settings"]||(y.data["sort-settings"]={});const t=y.data["sort-settings"];function s(t="increase"){"name"==e?_.sort((function(t,s){return+(t[e]>s[e])-1})):_.sort((function(s,a){if(a[e]==s[e]){const t=function t(l=0){if(c[e])return l==c[e].length?0:a[c[e][l][0]]==s[c[e][l][0]]?t(l+1):c[e][l][1]&&"<"==c[e][l][1]?s[c[e][l][0]]-a[c[e][l][0]]:a[c[e][l][0]]-s[c[e][l][0]]}();return 0==t&&(s["same-values"]=String(s.goals)+","+String(s.assists)+","+String(s.games),a["same-values"]=String(a.goals)+","+String(a.assists)+","+String(a.games)),t}return"string"==typeof _[0][e]?"increase"==t?+(s[e]<a[e])-1:+(s[e]>a[e])-1:a[e]-s[e]}))}t["stat-name"]==e&&"increase"==t.order?t.order="declime":t.order="increase",t["stat-name"]=e,"declime"==t.order?"name"!=e&&"string"==typeof _[0][e]?s("declime"):(s(),_.reverse()):s()}function A(){const e=r.querySelector("thead");let t="";e?(e.innerHTML="",t=e):t=document.createElement("thead");const s=document.createElement("tr");s.classList.add("content__tr-head");for(let e=0;e<h.length;e++){const t=h[e],a=document.createElement("th");a.classList.add("content__th","th",`th-${t}`,"td",`table-${t}`);const l=document.createElement("button");l.classList.add("th__inner"),"rating"==t?l.setAttribute("data-button-sort",!1):"points"==t&&l.classList.add("_icon-sorted","_increase"),l.setAttribute("data-stat-name",t),l.innerHTML=o[t].abbreviation,o[t].name&&(l.title=o[t].name),a.append(l),s.append(a)}t.append(s),r&&r.append(t)}function $(){const e=document.createElement("tbody");let t=1;for(let s=0;s<_.length;s++){const a=document.createElement("tr");a.classList.add("content__tr");for(let e=0;e<h.length;e++){const l=h[e];let i="";"rating"==l?_[s-1]&&_[s-1]["same-values"]&&_[s-1]["same-values"]==_[s]["same-values"]?i=t:(i=s+1,t=s+1):i=_[s][l];const n=document.createElement("td");n.classList.add("content__td","td",`td-${l}`,`table-${l}`),-1!=e&&-1==h.indexOf(l)&&n.classList.add("_td-hidden");const c=document.createElement("span");c.classList.add("td__inner"),c.setAttribute("data-stat-name",l),c.innerHTML=i,n.append(c),a.append(n)}e.append(a)}r&&(r.querySelector("tbody")&&r.removeChild(r.querySelector("tbody")),r.append(e))}function T(e){m=document.createElement("style"),m.innerText=`.td-${e}:before, .th-${e}:before, .th-${e} button:before {opacity: 0.03 !important; z-index: 5 !important;}`,document.body.appendChild(m)}function q(){m&&m.parentNode&&m.parentNode.removeChild(m)}function w(){r&&(r.innerHTML=""),q(),y.data["sort-settings"]&&delete y.data["sort-settings"],E(C),T(C),A(),$(),g()}!function(){for(let e=0;e<b.length;e++){const t=document.createElement("option");t.value=b[e][1],0==e&&(t.selected=!0),t.innerHTML=b[e][1],L.append(t)}}(),function(){const e=document.querySelector(".championship-select__names");for(let t=0;t<b.length;t++){const s=document.createElement("select");s.classList.add("form","championship-names-select"),s.setAttribute("data-years",b[t][1]),b[t][1]!=L.value||!1===n[b[t][1]].data.info["show-championships"]?s.setAttribute("data-hidden",""):s.setAttribute("data-not-hidden","");const a=b[t][2];for(let e=0;e<a.length;e++){const t=document.createElement("option");t.value=a[e][1],0==e&&(t.selected=!0),t.innerHTML=a[e][1],s.append(t)}e.append(s)}}(),e.select=new class{constructor(e,t=null){if(this.config=Object.assign({init:!0,logging:!0},e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectHidden:"_select-hidden",classSelectNotHidden:"_select-not-hidden",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const e=t?document.querySelectorAll(t):document.querySelectorAll("select");e.length&&this.selectsInit(e)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach(((e,t)=>{this.selectInit(e,t+1)})),document.addEventListener("click",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("keydown",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusin",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusout",function(e){this.selectsActions(e)}.bind(this))}selectInit(e,t){const s=this;let a=document.createElement("div");if(a.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(a,e),a.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show)){this.getSelectElement(a,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)}a.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:"150",e.addEventListener("change",(function(e){s.selectChange(e)}))}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,e.dataset.classModif&&t.classList.add(`select_${e.dataset.classModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e),this.selectHidden(t,e),this.selectNotHidden(t,e)}selectsActions(e){const t=e.target,s=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const a=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),l=this.getSelectElement(a).originalSelect;if("click"===s){if(!l.disabled)if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),s=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${e.dataset.selectId}"] .select__option[data-value="${e.dataset.value}"]`);this.optionAction(a,l,s)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(a);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(a,l,e)}}else"focusin"===s||"focusout"===s?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&("focusin"===s?a.classList.add(this.selectClasses.classSelectFocus):a.classList.remove(this.selectClasses.classSelectFocus)):"keydown"===s&&"Escape"===e.code&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const t=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);t.length&&t.forEach((e=>{this.selectСlose(e)}))}selectСlose(e){const s=this.getSelectElement(e).originalSelect,a=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;a.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),t(a,s.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;if(t.closest("[data-one-select]")){const e=t.closest("[data-one-select]");this.selectsСlose(e)}s.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),a(s,t.dataset.speed))}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;a&&a.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(s=this.getSelectedOptionsData(t).elements.map((t=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${t.value}" class="_select-tag">${this.getSelectElementContent(t)}</span>`)).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=s,t.hasAttribute("data-search")&&(s=!1))),s=s.length?s:t.dataset.placeholder?t.dataset.placeholder:"";let a="",l="";t.hasAttribute("data-pseudo-label")&&(a=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заполните атрибут"',l=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive);const i=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";if(t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle} ${this.selectClasses.classSelectTitle}_search"><span${a} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput} input_border ${i}"></span></div>`;{let e="";return e=t.hasAttribute("data-icon-class")?`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}${l}"><span class="${this.selectClasses.classSelectContent}${i}">${s}</span></span><i class="${t.getAttribute("data-icon-class")}"></i></button>`:`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}${l}"><span class="${this.selectClasses.classSelectContent}${i}">${s}</span></span></button>`,e}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let a="";return a+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",a+=t?`<span class="${this.selectClasses.classSelectData}">`:"",a+=t?s:"",a+=t?"</span>":"",a+=t?`<span class="${this.selectClasses.classSelectText}">`:"",a+=e.textContent,a+=t?"</span>":"",a+=t?"</span>":"",a}getSelectPlaceholder(e){const t=Array.from(e.options).find((e=>!e.value));if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter((e=>e.value)).filter((e=>e.selected)):s.push(e.options[e.selectedIndex]),{elements:s.map((e=>e)),values:s.filter((e=>e.value)).map((e=>e.value)),html:s.map((e=>this.getSelectElementContent(e)))}}getOptions(e){let t=e.hasAttribute("data-scroll")?"data-simplebar":"",s=e.dataset.scroll?`style="max-height:${e.dataset.scroll}px"`:"",a=Array.from(e.options);if(a.length>0){let l="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(a=a.filter((e=>e.value))),l+=t?`<div ${t} ${s} class="${this.selectClasses.classSelectOptionsScroll}">`:"",a.forEach((t=>{l+=this.getOption(t,e)})),l+=t?"</div>":"",l}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",a=!e.selected||t.hasAttribute("data-show-selected")||t.multiple?"":"hidden",l=e.dataset.class?` ${e.dataset.class}`:"",i=!!e.dataset.href&&e.dataset.href,n=e.hasAttribute("data-href-blank")?'target="_blank"':"";let c="";return c+=i?`<a ${n} ${a} href="${i}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${l}${s}">`:`<button ${a} class="${this.selectClasses.classSelectOption}${l}${s}" data-value="${e.value}" type="button">`,c+=this.getSelectElementContent(e),c+=i?"</a>":"</button>",c}setOptions(e,t){this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement.innerHTML=this.getOptions(t)}optionAction(e,t,s){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);this.getSelectedOptionsData(t).elements.forEach((e=>{e.removeAttribute("selected")}));e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach((e=>{t.querySelector(`option[value="${e.dataset.value}"]`).setAttribute("selected","selected")}))}else t.hasAttribute("data-show-selected")||(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),s.hidden=!0),t.value=s.hasAttribute("data-value")?s.dataset.value:s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&l.validateInput(e),e.hasAttribute("data-submit")&&e.value){let t=document.createElement("button");t.type="submit",e.closest("form").append(t),t.click(),t.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}selectHidden(e,t){t.hasAttribute("data-hidden")?e.classList.add(this.selectClasses.classSelectHidden):e.classList.remove(this.selectClasses.classSelectHidden)}selectNotHidden(e,t){t.hasAttribute("data-not-hidden")?e.classList.add(this.selectClasses.classSelectNotHidden):e.classList.remove(this.selectClasses.classSelectNotHidden)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,a=s.querySelectorAll(`.${this.selectClasses.classSelectOption}`),l=this;a.forEach((e=>{e.hidden=!1})),t.addEventListener("input",(function(){a.forEach((e=>{e.textContent.toUpperCase().indexOf(t.value.toUpperCase())>=0?e.hidden=!1:e.hidden=!0})),!0===s.hidden&&l.selectAction(e)}))}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}setLogging(e){this.config.logging&&function(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}(`[select]: ${e}`)}}({}),w(),document.addEventListener("click",(function(e){const t=e.target.closest(".th__inner");if(t&&!t.getAttribute("data-button-sort")){E(t.getAttribute("data-stat-name"));const e=document.querySelector("._icon-sorted");e&&e!=t&&e.classList.remove("_icon-sorted","_increase"),q(),T(t.getAttribute("data-stat-name")),t.classList.add("_icon-sorted"),t.classList.toggle("_increase"),$()}})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),function(){let e=document.querySelectorAll(".quantity");for(let t=0;t<e.length;t++){let s=e[t].querySelector("input");s.setAttribute("oninput","this.value = this.value.replace(/[^d]/g,'');");let a=s.value,l=e[t].querySelector(".quantity__button_minus");1==a?l.classList.add("_disabled"):l.classList.remove("_disabled"),s.addEventListener("change",(()=>{s.value<1&&(s.value=1),1==s.value?l.classList.add("_disabled"):l.classList.remove("_disabled")}))}document.addEventListener("click",(function(e){let t=e.target;if(t.closest(".quantity__button")){let e=t.closest(".quantity").querySelector("input").value,s=t.closest(".quantity").querySelector(".quantity__button_minus");t.classList.contains("quantity__button_plus")?(e++,s.classList.remove("_disabled")):(--e,1==e&&s.classList.add("_disabled"),e<1&&(e=1)),t.closest(".quantity").querySelector("input").value=e}}))}()})();